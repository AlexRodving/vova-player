import{C as x,D as A,e as I,E as w,F as E,G as O}from"./x8HHF4cd.js";const k=(c,o)=>{const r=c.__vccOpts||c;for(const[p,f]of o)r[p]=f;return r},n=new Map;let g,_,i,l;function v(c){const o=x().path,r=O(),{currentRoute:p}=A(),f=A();let h=!1,a=c;const d={dispose(){const e=[...n.get(o)],t=e.findIndex(u=>u[0]===a);if(t===-1)return;const s=e[t][1];s==null||s.dispose(),e.splice(t,1),n.set(o,e)},patch(e){const t=[...n.get(o)],s=t.findIndex(m=>m[0]===a);if(s===-1)return;const[,u]=t[s];a=e,u==null||u.patch(a),t.splice(s,1,[a,u]),n.set(o,t)}};if(n.has(o)){const e=r==null?void 0:r.push(c),t=n.get(o)||[];n.set(o,[...t,[c,e]])}else{const e=r==null?void 0:r.push(c);n.set(o,[[c,e]])}return I(d.dispose),g||(g=f.beforeEach(()=>{l=p.value.path})),_||(_=f.afterEach(()=>{i=p.value.path})),w(()=>{let e=n.get(l);e&&(e=e.map(([t,s])=>(s==null||s.dispose(),[t,void 0])),n.set(l,e)),h=!0}),E(()=>{if(h){let e=n.get(i);e&&(e=e.map(([t,s])=>{s==null||s.dispose();const u=r==null?void 0:r.push(t);return[t,u]}),n.set(i,e))}}),d}export{k as _,v as u};
